{"version":3,"sources":["TodoInput.js","TodoItem.js","leanCloud.js","signUpForm.js","signInForm.js","signInOrsignUp.js","forgotPasswordForm.js","UserDialog.js","App.js","index.js"],"names":["TodoInput","react_default","a","createElement","type","value","this","props","content","className","onKeyPress","submit","bind","onChange","changeTitle","e","key","target","trim","onSubmit","Component","TodoItem","checked","todo","status","finish","title","onClick","delete","onDelete","onFinish","AV","init","appId","appKey","TodoModel","getByUser","user","successFn","errorFn","query","Query","equalTo","find","then","response","array","map","t","Object","objectSpread","id","attributes","call","error","create","_ref","deleted","extend","set","acl","ACL","setPublicReadAccess","setWriteAccess","User","current","setReadAccess","setACL","save","update","_ref2","createWithoutData","undefined","destroy","todoId","getCurrentUser","getUserFromAVUser","AVUser","SignUpForm","formData","email","username","password","SignInForm","href","onForgotPassword","signInOrsignUp","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","state","selected","setState","switch","signUpForm_SignUpForm","onSignUp","signInForm_SignInForm","onSignIn","forgotPasswordForm","UserDialog","selectedTab","_this2","preventDefault","_this$state$formData","setUsername","setPassword","setEmail","signUp","loginedUser","code","alert","_this3","_this$state$formData2","logIn","signIn","statecopy","JSON","parse","stringify","signInOrsignUp_signInOrsignUp","changeFormData","showForgotPassword","forgotPasswordForm_forgotPasswordForm","resetPassword","returnToSignIn","stateCopy","requestPasswordReset","success","App","newTodo","todolist","todos","todoList","filter","item","index","TodoItem_TodoItem","signOut","TodoInput_TodoInput","addTodo","UserDialog_UserDialog","onSignInOrSignUp","logOut","oldStatus","statue","_this4","_this5","push","console","log","ReactDOM","render","App_App","document","getElementById"],"mappings":"yUAGqBA,sMAEb,OAAOC,EAAAC,EAAAC,cAAA,SAAOC,KAAK,OAAOC,MAAOC,KAAKC,MAAMC,QAC5CC,UAAU,YACVC,WAAYJ,KAAKK,OAAOC,KAAKN,MAC7BO,SAAUP,KAAKQ,YAAYF,KAAKN,4CAIxBS,GACTT,KAAKC,MAAMM,SAASE,kCAEhBA,GACU,UAAVA,EAAEC,KAC4B,KAA1BD,EAAEE,OAAOZ,MAAMa,QACdZ,KAAKC,MAAMY,SAASJ,UAfGK,cCAlBC,0LAEb,OACCpB,EAAAC,EAAAC,cAAA,OAAKM,UAAU,YACbR,EAAAC,EAAAC,cAAA,SAAOC,KAAK,WACZkB,QAAoC,cAA3BhB,KAAKC,MAAMgB,KAAKC,OACzBX,SAAUP,KAAKmB,OAAOb,KAAKN,QAC3BL,EAAAC,EAAAC,cAAA,QAAMM,UAAU,SAASH,KAAKC,MAAMgB,KAAKG,OACzCzB,EAAAC,EAAAC,cAAA,UAAQwB,QAASrB,KAAKsB,OAAOhB,KAAKN,OAAlC,gDAKAS,GACHT,KAAKC,MAAMsB,SAASd,EAAET,KAAKC,MAAMgB,qCAG9BR,GACHT,KAAKC,MAAMuB,SAASf,EAAET,KAAKC,MAAMgB,aAlBHH,6CCCtCW,IAAGC,KAAK,CACNC,MAHW,oCAIXC,OAHY,6BAMCH,EAAf,EAAeA,IAGFI,EAAY,CACvBC,UADuB,SACbC,EAAKC,EAAUC,GACvB,IAAIC,EAAQ,IAAIT,IAAGU,MAAM,QACzBD,EAAME,QAAQ,WAAW,GACzBF,EAAMG,OAAOC,KAAK,SAACC,GACjB,IAAIC,EAAQD,EAASE,IAAI,SAACC,GACxB,OAAOC,OAAAC,EAAA,EAAAD,CAAA,CAACE,GAAIH,EAAEG,IAAOH,EAAEI,cAEzBd,EAAUe,KAAK,KAAMP,IACpB,SAACQ,GACFf,GAAWA,EAAQc,KAAK,KAAMC,MAGlCC,OAbuB,SAAAC,EAaOlB,EAAUC,GAAQ,IAAxCf,EAAwCgC,EAAxChC,OAAOE,EAAiC8B,EAAjC9B,MAAM+B,EAA2BD,EAA3BC,QAEflC,EAAO,IADAQ,IAAGkB,OAAOS,OAAO,SAE5BnC,EAAKoC,IAAI,QAASjC,GAClBH,EAAKoC,IAAI,SAAUnC,GACnBD,EAAKoC,IAAI,UAAWF,GAEpB,IAAIG,EAAM,IAAI7B,IAAG8B,IACjBD,EAAIE,qBAAoB,GACxBF,EAAIG,eAAehC,IAAGiC,KAAKC,WAAW,GACtCL,EAAIM,cAAcnC,IAAGiC,KAAKC,WAAW,GACrC1C,EAAK4C,OAAOP,GAEZrC,EAAK6C,OAAOxB,KAAK,SAASC,GACxBP,EAAUe,KAAK,KAAKR,EAASM,KAC7B,SAAUG,GACVf,GAAWA,EAAQc,KAAK,KAAKC,MAIjCe,OAjCuB,SAAAC,EAiCUhC,EAAUC,GAAQ,IAA3CY,EAA2CmB,EAA3CnB,GAAGzB,EAAwC4C,EAAxC5C,MAAMF,EAAkC8C,EAAlC9C,OAAOiC,EAA2Ba,EAA3Bb,QAClBlC,EAAOQ,IAAGkB,OAAOsB,kBAAkB,OAAQpB,QACrCqB,IAAV9C,GAAuBH,EAAKoC,IAAI,QAASjC,QAC9B8C,IAAXhD,GAAwBD,EAAKoC,IAAI,SAAUnC,QAC/BgD,IAAZf,GAAyBlC,EAAKoC,IAAI,UAAWF,GAC7ClC,EAAK6C,OAAOxB,KAAK,SAACC,GAChBP,GAAaA,EAAUe,KAAK,OAC3B,SAACC,GAAD,OAAWf,GAAWA,EAAQc,KAAK,KAAMC,MAE9CmB,QA1CuB,SA0CfC,EAAOpC,EAAUC,GAEvBJ,EAAUkC,OAAO,CAAClB,GAAIuB,EAAQjB,SAAS,GAAOnB,EAAWC,KA6BtD,SAASoC,IACd,IAAItC,EAAON,IAAGiC,KAAKC,UACnB,OAAI5B,EACKuC,EAAkBvC,GAElB,KAiBX,SAASuC,EAAkBC,GACzB,OAAO5B,OAAAC,EAAA,EAAAD,CAAA,CACLE,GAAG0B,EAAO1B,IACP0B,EAAOzB,gBC5GO0B,mLAEb,OACI7E,EAAAC,EAAAC,cAAA,QAAMM,UAAU,SAASU,SAAUb,KAAKC,MAAMY,SAASP,KAAKN,OAA5D,IACEL,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,OAAOC,MAAOC,KAAKC,MAAMwE,SAASC,MAC7CnE,SAAUP,KAAKC,MAAMM,SAASD,KAAK,KAAK,YAG3CX,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,mCACAF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,OAAOC,MAAOC,KAAKC,MAAMwE,SAASE,SAC7CpE,SAAUP,KAAKC,MAAMM,SAASD,KAAK,KAAK,eAI3CX,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,WAAWC,MAAOC,KAAKC,MAAMwE,SAASG,SACjDrE,SAAUP,KAAKC,MAAMM,SAASD,KAAK,KAAK,eAG3CX,EAAAC,EAAAC,cAAA,OAAKM,UAAU,eACbR,EAAAC,EAAAC,cAAA,UAAQC,KAAK,UAAb,yBAxBwBgB,aCAnB+D,mLAEb,OACIlF,EAAAC,EAAAC,cAAA,QAAMM,UAAU,SAASU,SAAUb,KAAKC,MAAMY,SAASP,KAAKN,OAA5D,IACAL,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,mCACAF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,OAAOC,MAAOC,KAAKC,MAAMwE,SAASE,SAC7CpE,SAAUP,KAAKC,MAAMM,SAASD,KAAK,KAAK,eAG3CX,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,WAAWC,MAAOC,KAAKC,MAAMwE,SAASG,SACjDrE,SAAUP,KAAKC,MAAMM,SAASD,KAAK,KAAK,eAG3CX,EAAAC,EAAAC,cAAA,OAAKM,UAAU,eACbR,EAAAC,EAAAC,cAAA,UAAQC,KAAK,UAAb,gBACAH,EAAAC,EAAAC,cAAA,KAAGiF,KAAK,IAAIzD,QAASrB,KAAKC,MAAM8E,kBAAhC,iDAlB0BjE,aCGnBkE,cACjB,SAAAA,EAAY/E,GAAM,IAAAgF,EAAA,OAAAtC,OAAAuC,EAAA,EAAAvC,CAAA3C,KAAAgF,IACdC,EAAAtC,OAAAwC,EAAA,EAAAxC,CAAA3C,KAAA2C,OAAAyC,EAAA,EAAAzC,CAAAqC,GAAAjC,KAAA/C,KAAMC,KACDoF,MAAM,CACPC,SAAU,UAHAL,sEAOVxE,GACJT,KAAKuF,SAAS,CACVD,SAAS7E,EAAEE,OAAOZ,yCAKtB,OACAJ,EAAAC,EAAAC,cAAA,OAAKM,UAAU,kBACbR,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,QAAQC,MAAM,SAC1BiB,QAAiC,WAAxBhB,KAAKqF,MAAMC,SACpB/E,SAAUP,KAAKwF,OAAOlF,KAAKN,QAH7B,gBAMAL,EAAAC,EAAAC,cAAA,aACCF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,QAAQC,MAAM,SAC1BiB,QAAiC,WAAxBhB,KAAKqF,MAAMC,SACpB/E,SAAUP,KAAKwF,OAAOlF,KAAKN,QAH5B,iBAOFL,EAAAC,EAAAC,cAAA,OAAKM,UAAU,SACW,WAAxBH,KAAKqF,MAAMC,SACZ3F,EAAAC,EAAAC,cAAC4F,EAAD,CAAYhB,SAAUzE,KAAKC,MAAMwE,SACjC5D,SAAUb,KAAKC,MAAMyF,SACrBnF,SAAUP,KAAKC,MAAMM,WACnB,KACuB,WAAxBP,KAAKqF,MAAMC,SACZ3F,EAAAC,EAAAC,cAAC8F,EAAD,CAAYlB,SAAUzE,KAAKC,MAAMwE,SACjC5D,SAAUb,KAAKC,MAAM2F,SACrBb,iBAAkB/E,KAAKC,MAAM8E,iBAC7BxE,SAAUP,KAAKC,MAAMM,WACnB,cA1CgCO,aCHxB+E,mLAEb,OACIlG,EAAAC,EAAAC,cAAA,OAAKM,UAAU,kBACdR,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,QAAMM,UAAU,iBAAiBU,SAAUb,KAAKC,MAAMY,UACrDlB,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,SAAOC,KAAK,OAAOC,MAAOC,KAAKC,MAAMwE,SAASC,MAC7CnE,SAAUP,KAAKC,MAAMM,SAASD,KAAK,KAAM,YAE5CX,EAAAC,EAAAC,cAAA,OAAKM,UAAU,eACdR,EAAAC,EAAAC,cAAA,UAAQC,KAAK,UAAb,wCACAH,EAAAC,EAAAC,cAAA,KAAGiF,KAAK,IAAIzD,QAASrB,KAAKC,MAAM2F,UAAhC,sCAbkC9E,aCI5BgF,cACjB,SAAAA,EAAY7F,GAAM,IAAAgF,EAAA,OAAAtC,OAAAuC,EAAA,EAAAvC,CAAA3C,KAAA8F,IACdb,EAAAtC,OAAAwC,EAAA,EAAAxC,CAAA3C,KAAA2C,OAAAyC,EAAA,EAAAzC,CAAAmD,GAAA/C,KAAA/C,KAAMC,KACDoF,MAAQ,CACXU,YAAa,iBACbtB,SAAS,CACLC,MAAM,GACNC,SAAS,GACTC,SAAS,KAPDK,sEAYXxE,GAAE,IAAAuF,EAAAhG,KACLS,EAAEwF,iBADG,IAAAC,EAE2BlG,KAAKqF,MAAMZ,ULuC5C,SAAgBC,EAAMC,EAASC,EAAS5C,EAAUC,GACvD,IAAIF,EAAO,IAAIN,IAAGiC,KAClB3B,EAAKoE,YAAYxB,GACjB5C,EAAKqE,YAAYxB,GACjB7C,EAAKsE,SAAS3B,GAEd3C,EAAKuE,SAAShE,KAAK,SAASiE,GAC1B,IAAIxE,EAAOuC,EAAkBiC,GAC7BvE,EAAUe,KAAK,KAAKhB,IACpB,SAASiB,GACTf,EAAQc,KAAK,KAAKC,KK1BdsD,CAzBKJ,EAEAxB,MAFAwB,EAEMvB,SAFNuB,EAEetB,SACN,SAAC7C,GACZiE,EAAK/F,MAAMyF,SAAS3C,KAAK,KAAKhB,IAErB,SAACiB,GACT,OAAOA,EAAMwD,MACX,KAAK,IACLC,MAAM,oDACN,MACA,KAAK,IACLA,MAAM,wCACN,MACA,KAAK,IACLA,MAAM,8CACN,MACA,KAAK,IACLA,MAAM,wCACN,MACA,QACAA,MAAM,2CAMThG,GAAE,IAAAiG,EAAA1G,KACPS,EAAEwF,iBADK,IAAAU,EAEmB3G,KAAKqF,MAAMZ,UL4BpC,SAAgBE,EAASC,EAAS5C,EAAUC,GACjDR,IAAGiC,KAAKkD,MAAMjC,EAASC,GAAUtC,KAAK,SAASiE,GAC7C,IAAIxE,EAAOuC,EAAkBiC,GAC7BvE,EAAUe,KAAK,KAAKhB,IACpB,SAASiB,GACTf,EAAQc,KAAK,KAAKC,KKVd6D,CAzBKF,EAEFhC,SAFEgC,EAEO/B,SACE,SAAC7C,GACZ2E,EAAKzG,MAAM2F,SAAS7C,KAAK,KAAKhB,IAErB,SAACiB,GACX,OAAOA,EAAMwD,MACX,KAAK,IACLC,MAAM,0DACN,MACA,KAAK,IACLA,MAAM,kCACN,MACA,KAAK,IACLA,MAAM,8CACN,MACA,KAAK,IACLA,MAAM,wCACN,MACA,QACAA,MAAM,mDAMC/F,EAAID,GAEf,IAAIqG,EAAYC,KAAKC,MAAMD,KAAKE,UAAUjH,KAAKqF,QAC/CyB,EAAUrC,SAAS/D,GAAOD,EAAEE,OAAOZ,MACnCC,KAAKuF,SAASuB,oCAKjB,OACGnH,EAAAC,EAAAC,cAAA,OAAKM,UAAU,sBACdR,EAAAC,EAAAC,cAAA,OAAKM,UAAU,cACa,mBAA3BH,KAAKqF,MAAMU,YACTpG,EAAAC,EAAAC,cAACqH,EAAD,CAAgBzC,SAAUzE,KAAKqF,MAAMZ,SACrCmB,SAAU5F,KAAK6G,OAAOvG,KAAKN,MAC3B0F,SAAU1F,KAAKsG,OAAOhG,KAAKN,MAC3BO,SAAUP,KAAKmH,eAAe7G,KAAKN,MACnC+E,iBAAkB/E,KAAKoH,mBAAmB9G,KAAKN,QAE/CL,EAAAC,EAAAC,cAACwH,EAAD,CAAoB5C,SAAUzE,KAAKqF,MAAMZ,SACzC5D,SAAUb,KAAKsH,cAAchH,KAAKN,MAClCO,SAAUP,KAAKmH,eAAe7G,KAAKN,MACnC4F,SAAU5F,KAAKuH,eAAejH,KAAKN,uDASzC,IAAIwH,EAAYT,KAAKC,MAAMD,KAAKE,UAAUjH,KAAKqF,QAC/CmC,EAAUzB,YAAc,iBACxB/F,KAAKuF,SAASiC,4CAId,IAAIA,EAAYT,KAAKC,MAAMD,KAAKE,UAAUjH,KAAKqF,QAC/CmC,EAAUzB,YAAc,iBACxB/F,KAAKuF,SAASiC,yCAGF/G,GLhBX,IAAgCiE,EAAM1C,EAAUC,EKiBjDxB,EAAEwF,iBLjB+BvB,EKkBV1E,KAAKqF,MAAMZ,SAASC,MLjB/CjD,IAAGiC,KAAK+D,qBAAqB/C,GAAOpC,KAAK,SAAUoF,GACjD1F,EAAUe,KAAK,KAAK2E,IACnB,SAAU1E,GACXf,EAAQc,KAAK,KAAKC,YKjGkBlC,aCGnB6G,cACnB,SAAAA,EAAY1H,GAAM,IAAAgF,EAAAtC,OAAAuC,EAAA,EAAAvC,CAAA3C,KAAA2H,IAChB1C,EAAAtC,OAAAwC,EAAA,EAAAxC,CAAA3C,KAAA2C,OAAAyC,EAAA,EAAAzC,CAAAgF,GAAA5E,KAAA/C,KAAMC,KACDoF,MAAQ,CACXtD,KAAKsC,KAAoB,GACzBuD,QAAQ,GACRC,SAAS,IAEX,IAAI9F,EAAOsC,IAPK,OAQbtC,GACDF,EAAUC,UAAUC,EAAK,SAAC+F,GACxB,IAAIN,EAAYT,KAAKC,MAAMD,KAAKE,UAAUhC,EAAKI,QAC/CmC,EAAUO,SAAWD,EACrB7C,EAAKM,SAASiC,KAZFvC,wEAiBV,IAAAe,EAAAhG,KACF8H,EAAQ9H,KAAKqF,MAAMwC,SAASG,OAAO,SAACC,GAAD,OAAUA,EAAK9E,UACrDV,IAAI,SAACwF,EAAKC,GACT,OACEvI,EAAAC,EAAAC,cAAA,MAAIa,IAAKwH,GACPvI,EAAAC,EAAAC,cAACsI,EAAD,CAAUlH,KAAMgH,EAChBzG,SAAUwE,EAAK7E,OAAOb,KAAK0F,GAC3BzE,SAAUyE,EAAK1E,OAAOhB,KAAK0F,QAMjC,OACErG,EAAAC,EAAAC,cAAA,OAAKM,UAAU,OACbR,EAAAC,EAAAC,cAAA,UAAKG,KAAKqF,MAAMtD,KAAK4C,UAAY,SAAjC,qBACG3E,KAAKqF,MAAMtD,KAAKc,GAAKlD,EAAAC,EAAAC,cAAA,UAAQwB,QAASrB,KAAKoI,QAAQ9H,KAAKN,OAAnC,gBAAyD,MAEjFL,EAAAC,EAAAC,cAAA,OAAKM,UAAU,gBACbR,EAAAC,EAAAC,cAACwI,EAAD,CAAWnI,QAASF,KAAKqF,MAAMuC,QAC/B/G,SAAUb,KAAKsI,QAAQhI,KAAKN,MAC5BO,SAAUP,KAAKQ,YAAYF,KAAKN,SAGlCL,EAAAC,EAAAC,cAAA,MAAIM,UAAU,YAAY2H,GACzB9H,KAAKqF,MAAMtD,KAAKc,GAAK,KACtBlD,EAAAC,EAAAC,cAAC0I,EAAD,CACA7C,SAAU1F,KAAKwI,iBAAiBlI,KAAKN,MACrC4F,SAAU5F,KAAKwI,iBAAiBlI,KAAKN,2CNwC3CyB,IAAGiC,KAAK+E,SMhCN,IAAIjB,EAAYT,KAAKC,MAAMD,KAAKE,UAAUjH,KAAKqF,QAC/CmC,EAAUzF,KAAO,GACjB/B,KAAKuF,SAASiC,4CAGCzF,GACf,IAAIyF,EAAYT,KAAKC,MAAMD,KAAKE,UAAUjH,KAAKqF,QAC/CmC,EAAUzF,KAAOA,EACjB/B,KAAKuF,SAASiC,gFAKT/G,EAAEQ,GAAK,IAAAyF,EAAA1G,KACR0I,EAAYzH,EAAKC,OACrBD,EAAKC,OAAyB,cAAhBD,EAAKC,OAAyB,GAAI,YAChDW,EAAUkC,OAAO9C,EAAK,WACpByF,EAAKnB,SAASmB,EAAKrB,QACnB,SAACrC,GACD/B,EAAK0H,OAASD,EACdhC,EAAKnB,SAASmB,EAAKrB,wCAIhB5E,EAAEQ,GAAK,IAAA2H,EAAA5I,KACZ6B,EAAUsC,QAAQlD,EAAK4B,GAAG,WACxB5B,EAAKkC,SAAU,EACfyF,EAAKrD,SAASqD,EAAKvD,6CAIX5E,GACTT,KAAKuF,SAAS,CACZqC,QAAQnH,EAAEE,OAAOZ,MACjB8H,SAAS7H,KAAKqF,MAAMwC,2CAIjBpH,GAAE,IAAAoI,EAAA7I,KACJ4H,EAAQ,CACVxG,MAAMX,EAAEE,OAAOZ,MACfmB,OAAO,GACPiC,SAAQ,GAEVtB,EAAUoB,OAAO2E,EAAQ,SAAC/E,GACxB+E,EAAQ/E,GAAKA,EACbgG,EAAKxD,MAAMwC,SAASiB,KAAKlB,GACzBiB,EAAKtD,SAAS,CACZqC,QAAQ,GACRC,SAASgB,EAAKxD,MAAMwC,YAEtB,SAAC7E,GACD+F,QAAQC,IAAIhG,YA1GelC,aCHjCmI,IAASC,OACLvJ,EAAAC,EAAAC,cAACsJ,EAAD,MACAC,SAASC,eAAe","file":"static/js/main.714f6688.chunk.js","sourcesContent":["import React,{Component} from 'react';\r\nimport './TodoInput.css'\r\n\r\nexport default class TodoInput extends Component {\r\n    render(){\r\n        return <input type=\"text\" value={this.props.content}\r\n        className=\"TodoInput\" \r\n        onKeyPress={this.submit.bind(this)} \r\n        onChange={this.changeTitle.bind(this)}\r\n        />\r\n    }\r\n    \r\n    changeTitle(e){\r\n       this.props.onChange(e)\r\n    }\r\n    submit(e){\r\n        if(e.key === 'Enter'){\r\n            if(e.target.value.trim() !== ''){\r\n                this.props.onSubmit(e)\r\n            }\r\n        }\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport './TodoItem.css'\r\n\r\nexport default class TodoItem extends Component {\r\n    render () {\r\n        return (\r\n         <div className=\"TodoItem\">\r\n           <input type=\"checkbox\" \r\n           checked={this.props.todo.status === 'completed'}\r\n           onChange={this.finish.bind(this)}/>\r\n           <span className=\"title\">{this.props.todo.title}</span>\r\n           <button onClick={this.delete.bind(this)}>删除</button>\r\n         </div>\r\n        )\r\n    }\r\n\r\n    delete(e){\r\n        this.props.onDelete(e,this.props.todo)\r\n    }\r\n\r\n    finish(e){\r\n        this.props.onFinish(e,this.props.todo)\r\n    }\r\n}","import AV from 'leancloud-storage'\r\n\r\nvar APP_ID = '5VhMl5376m5Gmtw3Q2cBv7NS-gzGzoHsz'\r\nvar APP_KEY = 'IqnWY08C6jRNrMONPrjs46k1'\r\nAV.init({\r\n  appId: APP_ID,\r\n  appKey: APP_KEY\r\n})\r\n\r\nexport default AV\r\n\r\n// 所有跟 Todo 相关的 LeanCloud 操作都放到这里\r\nexport const TodoModel = {\r\n  getByUser(user,successFn,errorFn){\r\n    let query = new AV.Query('Todo')//文档批量处理\r\n    query.equalTo('deleted', false)\r\n    query.find().then((response) => {\r\n      let array = response.map((t) => {\r\n        return {id: t.id, ...t.attributes}\r\n      })\r\n      successFn.call(null, array)\r\n    }, (error) => {\r\n      errorFn && errorFn.call(null, error)\r\n    })\r\n  },\r\n  create({status,title,deleted},successFn,errorFn){\r\n    let Todo = AV.Object.extend('Todo') //文档保存对象\r\n    let todo = new Todo()\r\n    todo.set('title', title)\r\n    todo.set('status', status)\r\n    todo.set('deleted', deleted)\r\n    //单用户权限设置，该todo只能被当前用户看到\r\n    let acl = new AV.ACL()\r\n    acl.setPublicReadAccess(false) // 注意这里是 false\r\n    acl.setWriteAccess(AV.User.current(), true)\r\n    acl.setReadAccess(AV.User.current(), true)\r\n    todo.setACL(acl);\r\n\r\n    todo.save().then(function(response) {\r\n      successFn.call(null,response.id)\r\n    },function (error) {\r\n      errorFn && errorFn.call(null,error)\r\n    })\r\n  },\r\n\r\n  update({id,title,status,deleted},successFn,errorFn){\r\n    let todo = AV.Object.createWithoutData('Todo', id)\r\n    title !== undefined && todo.set('title', title)\r\n    status !== undefined && todo.set('status', status)\r\n    deleted !== undefined && todo.set('deleted', deleted)\r\n    todo.save().then((response) => {\r\n      successFn && successFn.call(null)\r\n    }, (error) => errorFn && errorFn.call(null, error))\r\n  },\r\n  destroy(todoId,successFn,errorFn){\r\n    //不应该直接删除数据，而是应该把deleted设为true\r\n    TodoModel.update({id: todoId, deleted: true}, successFn, errorFn)\r\n  }\r\n}\r\n\r\nexport function signUp(email,username,password,successFn,errorFn){\r\n  var user = new AV.User() //新建 AVUser 对象实例\r\n  user.setUsername(username) //设置用户名\r\n  user.setPassword(password) //设置密码\r\n  user.setEmail(email) //设置邮箱\r\n\r\n  user.signUp().then(function(loginedUser) {\r\n    let user = getUserFromAVUser(loginedUser) //调用获取user信息的函数\r\n    successFn.call(null,user)\r\n  },function(error) {\r\n    errorFn.call(null,error)\r\n  })\r\n\r\n  return undefined\r\n}\r\n\r\nexport function signIn(username,password,successFn,errorFn){\r\n  AV.User.logIn(username,password).then(function(loginedUser){\r\n    let user = getUserFromAVUser(loginedUser)\r\n    successFn.call(null,user)\r\n  },function(error){\r\n    errorFn.call(null,error)\r\n  })\r\n}\r\n\r\nexport function getCurrentUser(){\r\n  let user = AV.User.current()\r\n  if (user) {\r\n    return getUserFromAVUser(user)\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport function signOut(){\r\n  AV.User.logOut()\r\n  return undefined\r\n}\r\n\r\nexport function sendPasswordResetEmail(email,successFn,errorFn){\r\n  AV.User.requestPasswordReset(email).then(function (success) {\r\n    successFn.call(null,success) \r\n  }, function (error) {\r\n    errorFn.call(null,error)\r\n  })\r\n}\r\n\r\nfunction getUserFromAVUser(AVUser){ //这函数是为了拿到注册时候的user\r\n  return {\r\n    id:AVUser.id,\r\n    ...AVUser.attributes\r\n  }\r\n}","import React, {Component} from 'react';\r\n\r\nexport default class SignUpForm extends Component {\r\n    render(){\r\n        return(\r\n            <form className=\"signUp\" onSubmit={this.props.onSubmit.bind(this)}> {/* 注册*/}\r\n              <div className=\"row\">\r\n                <label>邮箱</label>\r\n                <input type=\"text\" value={this.props.formData.email}\r\n                 onChange={this.props.onChange.bind(null,'email')}\r\n                />\r\n              </div>\r\n              <div className=\"row\">\r\n                <label>用户名</label> \r\n                <input type=\"text\" value={this.props.formData.username}\r\n                 onChange={this.props.onChange.bind(null,'username')}\r\n                 /* bind 不仅可以绑定 this，还可以绑定第一个参数 */\r\n                />\r\n              </div>\r\n              <div className=\"row\">\r\n                <label>密码</label>\r\n                <input type=\"password\" value={this.props.formData.password}\r\n                 onChange={this.props.onChange.bind(null,'password')}\r\n                />\r\n              </div>\r\n              <div className=\"row actions\">\r\n                <button type=\"submit\">注册</button>\r\n              </div>\r\n            </form>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\n\r\nexport default class SignInForm extends Component{\r\n    render(){\r\n        return(\r\n            <form className=\"signIn\" onSubmit={this.props.onSubmit.bind(this)}> {/* 登录*/}\r\n            <div className=\"row\">\r\n              <label>用户名</label>\r\n              <input type=\"text\" value={this.props.formData.username}\r\n               onChange={this.props.onChange.bind(null,'username')}\r\n              />\r\n            </div>\r\n            <div className=\"row\">\r\n              <label>密码</label>\r\n              <input type=\"password\" value={this.props.formData.password}\r\n               onChange={this.props.onChange.bind(null,'password')}\r\n              />\r\n            </div>\r\n            <div className=\"row actions\">\r\n              <button type=\"submit\">登录</button>\r\n              <a href=\"#\" onClick={this.props.onForgotPassword}>忘记密码了？</a>\r\n            </div>\r\n          </form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport SignUpForm from './signUpForm'\r\nimport SignInForm from './signInForm'\r\n\r\n\r\nexport default class signInOrsignUp  extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            selected: 'signUp'\r\n        }\r\n    }\r\n\r\n    switch (e) {\r\n        this.setState({\r\n            selected:e.target.value\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n        <div className=\"signInOrSignUp\">\r\n          <nav>\r\n            <label>\r\n              <input type=\"radio\" value=\"signUp\"\r\n              checked={this.state.selected === 'signUp'}\r\n              onChange={this.switch.bind(this)}\r\n              />注册\r\n            </label>\r\n            <label>\r\n             <input type=\"radio\" value=\"signIn\"\r\n             checked={this.state.selected === 'signIn'}\r\n             onChange={this.switch.bind(this)}\r\n             />登录\r\n            </label>\r\n          </nav>\r\n          <div className=\"panes\">\r\n           {this.state.selected === 'signUp' ? \r\n           <SignUpForm formData={this.props.formData}\r\n           onSubmit={this.props.onSignUp}\r\n           onChange={this.props.onChange}/>\r\n           : null}\r\n           {this.state.selected === 'signIn' ? \r\n           <SignInForm formData={this.props.formData}\r\n           onSubmit={this.props.onSignIn}\r\n           onForgotPassword={this.props.onForgotPassword}\r\n           onChange={this.props.onChange}/>\r\n           : null}\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n}","import React, {Component} from 'react';\r\n\r\nexport default class forgotPasswordForm  extends Component{\r\n    render(){\r\n        return(\r\n            <div className=\"forgotPassword\">\r\n             <h3>重置密码</h3>\r\n             <form className=\"forgotPassword\" onSubmit={this.props.onSubmit}>{/* 登录*/}\r\n              <div className=\"row\">\r\n                <label>邮箱</label>\r\n                <input type=\"text\" value={this.props.formData.email}\r\n                 onChange={this.props.onChange.bind(null, 'email')}/>\r\n              </div>\r\n              <div className=\"row actions\">\r\n               <button type=\"submit\">发送重置邮件</button>\r\n               <a href=\"#\" onClick={this.props.onSignIn}>返回登录</a>\r\n              </div>\r\n             </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport './UserDialog.css'\r\nimport {signUp,signIn,sendPasswordResetEmail} from './leanCloud'\r\nimport SignInOrsignUp from './signInOrsignUp'\r\nimport ForgotPasswordForm from './forgotPasswordForm'\r\n\r\nexport default class UserDialog extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n          selectedTab: 'signInOrsignUp',\r\n          formData:{\r\n              email:'',\r\n              username:'',\r\n              password:''\r\n          }\r\n        }\r\n    }\r\n       \r\n    signUp(e){\r\n        e.preventDefault()\r\n        let {email,username,password} = this.state.formData\r\n        let success = (user)=>{\r\n           this.props.onSignUp.call(null,user)\r\n        }\r\n        let error = (error)=>{\r\n            switch(error.code){\r\n              case 202:\r\n              alert('用户名已经被占用')\r\n              break\r\n              case 203:\r\n              alert('邮箱已被占用')\r\n              break\r\n              case 200:\r\n              alert('用户名不能为空')\r\n              break\r\n              case 201:\r\n              alert('密码不能为空')\r\n              break\r\n              default:\r\n              alert('error')\r\n              break\r\n            }\r\n        }\r\n        signUp(email,username,password,success,error)\r\n    }\r\n    signIn(e){\r\n      e.preventDefault()\r\n      let {username,password} = this.state.formData\r\n        let success = (user)=>{\r\n           this.props.onSignIn.call(null,user)\r\n        }\r\n        let error = (error)=>{\r\n          switch(error.code){\r\n            case 210:\r\n            alert('用户名与密码不匹配')\r\n            break\r\n            case 211:\r\n            alert('用户不存在')\r\n            break\r\n            case 217:\r\n            alert('用户名不能为空')\r\n            break\r\n            case 218:\r\n            alert('密码不能为空')\r\n            break\r\n            default:\r\n            alert('error')\r\n            break\r\n          }\r\n        }\r\n        signIn(username,password,success,error)\r\n    } \r\n    changeFormData(key,e){\r\n        //直接写this.state.formData.username会报错\r\n        let statecopy = JSON.parse(JSON.stringify(this.state))// 用 JSON 深拷贝\r\n        statecopy.formData[key] = e.target.value\r\n        this.setState(statecopy)\r\n    }\r\n    \r\n\r\n    render(){ \r\n     return(\r\n        <div className=\"UserDialog-Wrapper\">\r\n         <div className=\"UserDialog\">\r\n         {this.state.selectedTab === 'signInOrsignUp' ?\r\n            <SignInOrsignUp formData={this.state.formData}\r\n            onSignIn={this.signIn.bind(this)}\r\n            onSignUp={this.signUp.bind(this)}\r\n            onChange={this.changeFormData.bind(this)}\r\n            onForgotPassword={this.showForgotPassword.bind(this)}\r\n            /> :\r\n            <ForgotPasswordForm formData={this.state.formData}\r\n            onSubmit={this.resetPassword.bind(this)}\r\n            onChange={this.changeFormData.bind(this)}\r\n            onSignIn={this.returnToSignIn.bind(this)}\r\n            />\r\n         }\r\n        </div>\r\n       </div>\r\n      )\r\n    }\r\n\r\n    showForgotPassword(){\r\n      let stateCopy = JSON.parse(JSON.stringify(this.state))\r\n      stateCopy.selectedTab = 'forgotPassword'\r\n      this.setState(stateCopy)\r\n    }\r\n\r\n    returnToSignIn(){\r\n      let stateCopy = JSON.parse(JSON.stringify(this.state))\r\n      stateCopy.selectedTab = 'signInOrsignUp'\r\n      this.setState(stateCopy)\r\n    }\r\n\r\n    resetPassword(e){\r\n      e.preventDefault()\r\n      sendPasswordResetEmail(this.state.formData.email)\r\n    }\r\n}","import React,{Component} from 'react';\nimport './App.css';\nimport './reset.css'\nimport TodoInput from './TodoInput'\nimport TodoItem from './TodoItem'\nimport UserDialog from './UserDialog'\nimport {getCurrentUser,signOut,TodoModel} from './leanCloud'\n\n\nexport default class App extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user:getCurrentUser() || {},\n      newTodo:'',\n      todolist:[]\n    }\n    let user = getCurrentUser()\n    if(user) {\n      TodoModel.getByUser(user,(todos) => {\n        let stateCopy = JSON.parse(JSON.stringify(this.state))\n        stateCopy.todoList = todos\n        this.setState(stateCopy)\n      })\n    }\n  }\n  \n  render(){\n    let todos = this.state.todolist.filter((item)=> !item.deleted)\n    .map((item,index)=>{\n      return (\n        <li key={index}>\n          <TodoItem todo={item} \n          onFinish={this.finish.bind(this)}\n          onDelete={this.delete.bind(this)}\n          />\n        </li>\n      )\n    })\n    \n    return(\n      <div className=\"App\">\n        <h1>{this.state.user.username || '我'}的待办\n          {this.state.user.id ? <button onClick={this.signOut.bind(this) }>登出</button> : null}\n        </h1>\n        <div className=\"InputWrapper\">\n          <TodoInput content={this.state.newTodo} \n          onSubmit={this.addTodo.bind(this)}\n          onChange={this.changeTitle.bind(this)}\n          />\n        </div>\n        <ol className=\"todoList\">{todos}</ol>\n        {this.state.user.id ? null : \n        <UserDialog \n        onSignUp={this.onSignInOrSignUp.bind(this)}\n        onSignIn={this.onSignInOrSignUp.bind(this)}\n        />}\n      </div>\n    )\n  }\n\n  signOut(){\n    signOut()\n    let stateCopy = JSON.parse(JSON.stringify(this.state)) \n    stateCopy.user = {}\n    this.setState(stateCopy)\n  } \n\n  onSignInOrSignUp(user){\n    let stateCopy = JSON.parse(JSON.stringify(this.state)) \n    stateCopy.user = user\n    this.setState(stateCopy)\n  }\n\n  componentDidUpdate(){}\n\n  finish(e,todo){\n    let oldStatus = todo.status\n    todo.status = todo.status === 'completed' ? '': 'completed'\n    TodoModel.update(todo,() => {\n      this.setState(this.state)\n    },(error) => {\n      todo.statue = oldStatus\n      this.setState(this.state)\n    })\n  }\n\n  delete(e,todo){\n    TodoModel.destroy(todo.id,() => {\n      todo.deleted = true\n      this.setState(this.state)\n    })\n  }\n\n  changeTitle(e){\n     this.setState({\n       newTodo:e.target.value,\n       todolist:this.state.todolist\n     })\n  }\n\n  addTodo(e){\n    let newTodo={\n      title:e.target.value,\n      status:'',\n      deleted:false\n    }\n    TodoModel.create(newTodo,(id) => {\n      newTodo.id = id\n      this.state.todolist.push(newTodo)\n      this.setState({\n        newTodo:'',\n        todolist:this.state.todolist\n      })\n    },(error) => {\n      console.log(error)\n    })\n    \n  }\n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  );\n\n\n"],"sourceRoot":""}